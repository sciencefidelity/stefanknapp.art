---
import sanityClient from "lib/sanityClient"
import Default from "layouts/Default.astro"
import Life from "components/Life.astro"
import { lifeQuery } from "lib/queries"
import {
  LabelGroup,
  Navigation,
  LocaleExhibitions,
  LocalePage,
  LocalePhotography,
  LocaleSettings,
  LocaleVideos
} from "lib/interfaces"

const response = await sanityClient.fetch(lifeQuery)
const data: {
  exhibitions: LocaleExhibitions
  labels: LabelGroup
  navigation: Navigation
  settings: LocaleSettings
  page: LocalePage
  photography: LocalePhotography
  videos: LocaleVideos
} = await response
const {
  exhibitions,
  labels,
  navigation,
  settings,
  page,
  photography,
  videos
} = data
const languages = ["Polski", "English"]
const locales = ["pl", ""]
---

<Default
  labels={labels.pl}
  languages={languages}
  locales={locales}
  navigation={navigation.pl}
  page={page.pl}
  settings={settings.pl}
>
  <Life
    exhibitions={exhibitions.pl}
    labels={labels.pl}
    page={page.pl}
    photography={photography.pl}
    settings={settings.pl}
    videos={videos.pl}
  />
</Default>
